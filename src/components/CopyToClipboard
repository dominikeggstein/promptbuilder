import React from "react";
import Button from "@mui/material/Button";
import FileCopyIcon from "@mui/icons-material/FileCopy";

const CopyToClipboard = ({ selectedOptions, buttonData }) => {
    const copyToClipboard = () => {
        const summary = selectedOptions
            .map((option, index) => option ? `${buttonData[index].title}: ${option}` : null)
            .filter(Boolean)
            .join("\n");
        navigator.clipboard.writeText(summary).then(
            () => {
                console.log("Text copied to clipboard");
            },
            (err) => {
                console.error("Failed to copy text: ", err);
            }
        );
    };

    return (
        <Button
            className="btn-clipboard"
            variant="outlined"
            color="primary"
            startIcon={<FileCopyIcon />}
            onClick={copyToClipboard}
            disabled={selectedOptions.every((option) => !option)}
        >
            Copy to clipboard
        </Button>
    );
};

export default CopyToClipboard;
